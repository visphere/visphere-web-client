<!--
 ~ Copyright (c) 2023 by MoonSphere Systems
 ~ Originally developed by MiÅ‚osz Gilga <https://miloszgilga.pl>
 -->

<div
  *ngIf="isVisible$ | async"
  [@lazyPageLoaderFade]
  class="fixed w-full h-full flex justify-center items-center bg-msph-light-300 dark:bg-msph-dark-900 z-[1000]">
  <div class="msph-page-loader__container">
    <div
      class="msph-page-loader__planet"
      [style.filter]="url('#izomorphicImageLoader')">
      <div class="msph-page-loader__ring"></div>
      <div
        *ngFor="let satellite of satellites"
        [ngClass]="['msph-page-loader__satellite', satellite]"></div>
      <svg>
        <defs>
          <filter id="izomorphicImageLoader">
            <feGaussianBlur
              in="SourceGraphic"
              stdDeviation="15"
              result="blur"></feGaussianBlur>
            <feColorMatrix
              in="blur"
              mode="matrix"
              values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 26 -7"
              result="izomorphicImageLoader"></feColorMatrix>
            <feBlend in="SourceGraphic" in2="izomorphicImageLoader"></feBlend>
          </filter>
        </defs>
      </svg>
    </div>
  </div>
</div>
