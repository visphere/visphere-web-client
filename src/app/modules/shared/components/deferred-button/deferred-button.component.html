<!--
 ~ Copyright (c) 2023 by MILOSZ GILGA <https://miloszgilga.pl>
 ~ Silesian University of Technology
 ~ 
 ~   File name: deferred-button.component.html
 ~   Created at: 2023-08-25, 20:36:33
 ~   Last updated at: 2023-08-25, 20:36:43
 ~ 
 ~   Project name: moonsphere
 ~   Module name: moonsphere-web-client
 ~ 
 ~ This project is a part of "MoonSphere" instant messenger system. This system is a part of
 ~ completing an engineers degree in computer science at Silesian University of Technology.
 ~ 
 ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
 ~ file except in compliance with the License. You may obtain a copy of the License at
 ~ 
 ~   <http://www.apache.org/license/LICENSE-2.0>
 ~ 
 ~ Unless required by applicable law or agreed to in writing, software distributed under
 ~ the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS
 ~ OF ANY KIND, either express or implied. See the License for the specific language
 ~ governing permissions and limitations under the license.
 -->

<div>
  <p class="mb-1 text-sm dark:font-normal md:font-normal md:dark:font-medium">
    {{ labelI18nText | translate }}
  </p>
  <button
    [disabled]="isDeferred"
    (click)="handleButtonClick()"
    [class]="styles">
    <div class="flex justify-center items-center">
      {{ innerI18nText | translate }}
      <ng-container *ngIf="isDeferred">{{ '(' }}</ng-container>
      <cd-timer
        #timerEntry
        [hidden]="!isDeferred"
        [countdown]="true"
        [autoStart]="false"
        [startTime]="deferTimeSec"
        (onComplete)="handleResetDeferredTime()"
        format="intelli" />
      <ng-container *ngIf="isDeferred">{{ ')' }}</ng-container>
      <div *ngIf="isLoading">
        <div class="msph-button__spinner"></div>
      </div>
    </div>
  </button>
</div>
