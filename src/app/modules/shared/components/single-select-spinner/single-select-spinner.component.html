<!--
 ~ Copyright (c) 2023 by Visphere & Vsph Technologies
 ~ Originally developed by MiÅ‚osz Gilga <https://miloszgilga.pl>
 -->

<button
  #selectViewHolder
  (focus)="handleShowItemsList()"
  type="button"
  [disabled]="formDisabled"
  class="relative cursor-default w-full">
  <ul
    *ngIf="itemsListIsOpen"
    [@dropboxFadeAndMove]
    class="vsph-single-select-spinner-list__container">
    <li *ngFor="let element of filteredList">
      <button
        type="button"
        class="vsph-single-select-spinner-list__element hover:bg-vsph-tint-500 hover:text-vsph-light-100 cursor-pointer"
        (click)="handleSelectItem(element)">
        {{ element.value }}
      </button>
    </li>
    <li
      *ngIf="filteredList.length === 0"
      class="vsph-single-select-spinner-list__element text-vsph-dark-800 dark:text-vsph-tint-100">
      {{ 'vsph.common.utils.notFound' | translate }}
    </li>
  </ul>
  <input
    #inputElement
    [placeholder]="i18nPlaceholder | translate"
    (input)="handleFilterElements(inputElement.value)"
    type="text"
    [disabled]="formDisabled"
    (focus)="handleShowItemsList()"
    class="vsph-input w-full"
    [class.vsph-input--invalid]="hasErrors" />
  <div class="vsph-input__icon-container">
    <ng-icon
      name="selectArrowDownIcon"
      [class.vsph-input__text--invalid]="hasErrors"
      class="text-sm" />
  </div>
</button>
