<!--
 ~ Copyright (c) 2023 by MoonSphere Systems
 ~ Originally developed by MiÅ‚osz Gilga <https://miloszgilga.pl>
 -->

<ul class="msph-snackbar__list-container">
  <li
    *ngFor="let snackbar of snackbarStack$ | async"
    [@snackbarFadeAndMove]
    class="msph-snackbar__list-element">
    <div
      [class.bg-msph-primary-tint]="snackbar.severity === 'primary'"
      [class.bg-gray-400]="snackbar.severity === 'secondary'"
      [class.bg-msph-success-primary]="snackbar.severity === 'success'"
      [class.bg-msph-warning-primary]="snackbar.severity === 'warning'"
      [class.bg-msph-danger-primary]="snackbar.severity === 'danger'"
      class="msph-snackbar__severity-indicator"></div>
    <button
      (click)="handleRemoveSnackbar(snackbar.id)"
      class="msph-snackbar__close-button">
      <ng-icon name="xIcon" />
    </button>
    <h2 *ngIf="snackbar.header" class="msph-snackbar__header">
      <ng-template
        *ngIf="
          snackbar.header.omitTransformation;
          then omitHeader;
          else transformHeader
        " />
      <ng-template #omitHeader>
        {{ snackbar.header.placeholder }}
      </ng-template>
      <ng-template #transformHeader>
        {{
          (snackbar.header.i18nPrefix || 'msph.webClient.snackbar.') +
            snackbar.header.placeholder | translate: snackbar.header.parameters
        }}
      </ng-template>
    </h2>
    <p class="msph-snackbar__content">
      <ng-template
        *ngIf="
          snackbar.content.omitTransformation;
          then omitContent;
          else transformContent
        " />
      <ng-template #omitContent>
        {{ snackbar.content.placeholder }}
      </ng-template>
      <ng-template #transformContent>
        {{
          (snackbar.content.i18nPrefix || 'msph.webClient.snackbar.') +
            snackbar.content.placeholder
            | translate: snackbar.content.parameters
        }}
      </ng-template>
    </p>
  </li>
</ul>
