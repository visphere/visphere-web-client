<!--
 ~ Copyright (c) 2023 by Visphere & Vsph Technologies
 ~ Originally developed by MiÅ‚osz Gilga <https://miloszgilga.pl>
 -->

<vsph-devastate-action-modal
  size="sm"
  precedence="higher"
  [showProceedButton]="false"
  [i18nPrefix]="defaultPrefix + '.' + i18nPrefix"
  [isActive]="isActiveModal"
  (emitOnClose)="handleCloseModal()">
  <vsph-password-confirmation-form
    [i18nSuffixSubmitButton]="
      'settingsPage.modal.devastate.' + i18nPrefix + '.submitButton'
    "
    [i18nDescription]="defaultPrefix + '.' + i18nPrefix + '.description'"
    [i18nParams]="i18nParams"
    (emitSubmitConfirmation)="handleEmitOnSubmitConfirmation($event)">
    <div *ngIf="showDeleteMessagesCheckbox" class="flex justify-center gap-y-1">
      <label class="flex gap-x-2 items-start">
        <input
          [(ngModel)]="deleteAllMessages"
          type="checkbox"
          class="vsph-checkbox vsph-checkbox--danger--red" />
        <div
          class="leading-5 text-vsph-tint-400 dark:text-vsph-tint-300 cursor-pointer">
          {{ defaultPrefix + '.deleteAllMessages' | translate }}
        </div>
        <div
          [ngxTippy]="inputTooltip"
          [tippyProps]="tooltipProps"
          class="ms-1 flex items-center">
          <ng-icon name="questionCircleIcon" />
          <ng-template #inputTooltip>
            {{ defaultPrefix + '.deleteAllMessagesInfo' | translate }}
          </ng-template>
        </div>
      </label>
    </div>
  </vsph-password-confirmation-form>
</vsph-devastate-action-modal>
