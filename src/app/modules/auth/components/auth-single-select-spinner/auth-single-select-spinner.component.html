<!--
 ~ Copyright (c) 2023 by MoonSphere Systems
 ~ Originally developed by MiÅ‚osz Gilga <https://miloszgilga.pl>
 -->

<button
  #selectViewHolder
  (focus)="handleShowItemsList()"
  type="button"
  [disabled]="formDisabled"
  class="relative cursor-default w-full">
  <ul
    *ngIf="itemsListIsOpen"
    [@dropboxFadeAndMove]
    class="msph_auth-single-select-spinner-list-container">
    <li *ngFor="let element of filteredList">
      <button
        type="button"
        class="msph_auth-single-select-spinner-list-element hover:bg-msph-primary-tint hover:text-msph-primary-light cursor-pointer"
        (click)="handleSelectItem(element)">
        {{ element.value }}
      </button>
    </li>
    <li
      *ngIf="filteredList.length === 0"
      class="msph_auth-single-select-spinner-list-element text-gray-500">
      {{ 'msph.common.utils.notFound' | translate }}
    </li>
  </ul>
  <input
    #inputElement
    [placeholder]="i18nPlaceholder | translate"
    [class.msph_auth-invalid-input]="hasErrors"
    (input)="handleFilterElements(inputElement.value)"
    type="text"
    [disabled]="formDisabled"
    (focus)="handleShowItemsList()"
    class="msph_auth-input w-full" />
  <div
    class="absolute top-1/2 -translate-y-1/2 right-2.5 text-gray-600 dark:text-gray-300 md:text-gray-300 md:dark:text-gray-600 flex items-center">
    <ng-icon
      name="selectArrowDownIcon"
      [class.msph_auth-invalid-text]="hasErrors"
      class="text-sm" />
  </div>
</button>
